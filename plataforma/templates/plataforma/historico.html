<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Histórico Financeiro - Jogo Sortudo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>[x-cloak] { display: none !important; }</style>
</head>
<body class="bg-[#051a0f] text-white p-4 font-sans" x-data="{ tab: 'depositos' }">
    <div class="max-w-md mx-auto">
        <div class="flex items-center gap-4 mb-6">
            <a href="{% url 'home_jogo' %}" class="bg-white/10 px-3 py-1.5 rounded-lg text-yellow-500 text-sm font-bold transition-active active:scale-95">
                <i class="fas fa-arrow-left"></i> Voltar
            </a>
            <h2 class="text-xl font-black uppercase tracking-tighter">Histórico</h2>
        </div>

        <div class="flex bg-black/40 p-1 rounded-xl mb-6 border border-white/5 shadow-inner">
            <button @click="tab = 'depositos'" :class="tab === 'depositos' ? 'bg-yellow-500 text-black shadow-lg' : 'text-gray-400'" class="flex-1 py-3 rounded-lg font-black text-xs transition-all duration-300">
                <i class="fas fa-wallet mr-1"></i> DEPÓSITOS
            </button>
            <button @click="tab = 'saques'" :class="tab === 'saques' ? 'bg-yellow-500 text-black shadow-lg' : 'text-gray-400'" class="flex-1 py-3 rounded-lg font-black text-xs transition-all duration-300">
                <i class="fas fa-hand-holding-usd mr-1"></i> SAQUES
            </button>
        </div>

        <div x-show="tab === 'depositos'" class="space-y-3" x-transition x-cloak>
            {% for dep in depositos %}
            <div class="bg-black/30 p-4 rounded-2xl border border-white/5 flex justify-between items-center shadow-md">
                <div class="flex items-center gap-3">
                    <div class="bg-green-500/10 p-2 rounded-full text-green-500">
                        <i class="fas fa-arrow-down text-sm"></i>
                    </div>
                    <div>
                        <p class="font-bold text-sm uppercase">{{ dep.metodo }}</p>
                        <p class="text-[10px] text-gray-500">{{ dep.data_criacao|date:"d/m/Y H:i" }}</p>
                    </div>
                </div>
                <div class="text-right">
                    <p class="font-black text-yellow-500">Kz {{ dep.valor }}</p>
                    <span class="text-[9px] font-black uppercase {% if dep.status == 'APROVADO' %}text-green-500{% elif dep.status == 'REJEITADO' %}text-red-500{% else %}text-orange-500{% endif %}">
                        {{ dep.status }}
                    </span>
                </div>
            </div>
            {% empty %}
            <div class="text-center py-20 opacity-30">
                <i class="fas fa-receipt text-5xl mb-4"></i>
                <p class="font-bold uppercase text-xs">Nenhum depósito efetuado</p>
            </div>
            {% endfor %}
        </div>

        <div x-show="tab === 'saques'" class="space-y-3" x-transition x-cloak>
            {% for saque in saques %}
            <div class="bg-black/30 p-4 rounded-2xl border border-white/5 flex justify-between items-center shadow-md">
                <div class="flex items-center gap-3">
                    <div class="bg-red-500/10 p-2 rounded-full text-red-500">
                        <i class="fas fa-arrow-up text-sm"></i>
                    </div>
                    <div>
                        <p class="font-bold text-sm italic">Pedido de Retirada</p>
                        <p class="text-[10px] text-gray-500">{{ saque.data_pedido|date:"d/m/Y H:i" }}</p>
                    </div>
                </div>
                <div class="text-right">
                    <p class="font-black text-white text-lg">Kz {{ saque.valor }}</p>
                    <span class="text-[9px] font-black uppercase {% if saque.status == 'PAGO' %}text-green-400{% else %}text-yellow-500{% endif %}">
                        {{ saque.status }}
                    </span>
                </div>
            </div>
            {% empty %}
            <div class="text-center py-20 opacity-30">
                <i class="fas fa-money-bill-transfer text-5xl mb-4"></i>
                <p class="font-bold uppercase text-xs">Nenhum saque efetuado</p>
            </div>
            {% endfor %}
        </div>
    </div>
</body>
</html>
